<main id="main" class="main">
   <div class="pagetitle">
      <h1>Detalles</h1>
      <nav>
         <ol class="breadcrumb">
            <li class="breadcrumb-item"><a routerLink="/">Inicio</a></li>
            <li class="breadcrumb-item">Clientes</li>
            <li class="breadcrumb-item active">Ver detalles</li>
         </ol>
      </nav>
   </div>
   <section class="section profile">
      <div class="row align-items-top">
         <div class="col-lg-8">
            <div class="card">
               <div class="card-body pt-3">
                  <div class="tab-content pt-2">
                     <div class="tab-pane fade show active profile-overview" id="profile-overview">
                        <h5 class="card-title">Detalles de cliente</h5>
                        <div class="row">
                           <div class="col-lg-3 col-md-4 label ">Nombre</div>
                           <div class="col-lg-9 col-md-8">{{customer.name}}</div>
                        </div>
                        <div class="row">
                           <div class="col-lg-3 col-md-4 label">Apellido</div>
                           <div class="col-lg-9 col-md-8">{{customer.surname}}</div>
                        </div>
                        <div class="row">
                           <div class="col-lg-3 col-md-4 label">Celular</div>
                           <div class="col-lg-9 col-md-8">{{customer.cellphone}}</div>
                        </div>
                     </div>
                     <button type="button" class="btn btn-light rounded-pill" id="editCustomer" (click)="redirectToUpdate(customer.id)"><i _ngcontent-iji-c29="" class="bi bi-pencil-square" id="iconEdit"></i>Editar</button>

                  </div>
               </div>
            </div>
            <div _ngcontent-dqv-c37="" class="card">
               <div _ngcontent-dqv-c37="" class="card-body">
                  <h5 _ngcontent-dqv-c37="" class="card-title">Trabajos realizados a {{customer.name}}</h5>
                  <div class="dataTable-wrapper dataTable-loading no-footer sortable searchable fixed-columns">
                     <div class="dataTable-top">
                        <div class="dataTable-dropdown"><label><select class="dataTable-selector" [(ngModel)]="size" name="size"
                           (change)="onPageSizeChange()">
                                 <option value="5">5</option>
                                 <option value="10" selected="">10</option>
                                 <option value="15">15</option>
                                 <option value="20">20</option>
                                 <option value="25">25</option>
                              </select>Datos por página</label></div>
                     </div>
                     <div class="dataTable-container">
                        <table _ngcontent-dqv-c37="" class="table datatable dataTable-table">
                           <thead _ngcontent-dqv-c37="">
                              <tr _ngcontent-dqv-c37="">
                                 <th _ngcontent-dqv-c37="" scope="col" data-sortable="" style="width: 38.9551%;">
                                    <a href="#" class="dataTable-sorter">Título</a>
                                 </th>
                                 <th _ngcontent-dqv-c37="" scope="col" data-sortable="" style="width: 10.60118%ñ">
                                    <a href="#" class="dataTable-sorter">Total</a>
                                 </th>
                                 <th _ngcontent-dqv-c37="" scope="col" data-sortable="" style="width: 29.377%;">
                                    <a href="#" class="dataTable-sorter">Fecha</a>
                                 </th>
                                 <th _ngcontent-dqv-c37="" scope="col" data-sortable="" style="width: 20.8428%;">
                                    <a href="#" class="dataTable-sorter" id="acciones">Acciones</a>
                                 </th>
                              </tr>
                           </thead>
                           <tbody _ngcontent-dqv-c37="">
                              <tr _ngcontent-dqv-c37="" *ngFor="let job of jobsList">
                                 <td _ngcontent-dqv-c37="">- {{job.jobTitle}}</td>
                                 <td _ngcontent-dqv-c37="">$ {{job.totalAmount}}</td>
                                 <td _ngcontent-dqv-c37="" class="text-center">{{ formatDateForDisplay(job.date) }}</td>
                                 <td _ngcontent-dqv-c37="">
                                    <div class="d-flex justify-content-center">
                                       <button type="button" class="btn btn-light rounded-pill" id="editCustomer" (click)="redirectToUpdateJob(job.idJob)"><i
                                             _ngcontent-iji-c29="" class="bi bi-pencil-square"
                                             id="iconEdit"></i></button>
                                       <button type="button" class="btn btn-light rounded-pill" id="deleteJob"><i
                                             _ngcontent-iji-c29="" class="bi bi-trash" id="iconTrash" (click)="deleteJob(job.idJob)"></i></button>
                                       <button type="button" class="btn btn-light rounded-pill" id="infoJob"
                                          (click)="viewJobDetails(job.idJob)"><i _ngcontent-iji-c29=""
                                             class="bi bi-info-circle" id="iconInfo"></i></button>
                                    </div>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <div class="pagination-container">
                        <nav aria-label="...">
                            <ul class="pagination">
                                <li class="page-item" [ngClass]="{ 'disabled': isFirstPage }">
                                    <a class="page-link" tabindex="-1" aria-disabled="true"
                                        (click)="goToPreviousPage()">Anterior</a>
                                </li>
                                <li class="page-item" *ngFor="let page of pageRange">
                                    <a class="page-link" (click)="goToPage(page)">{{ page }}</a>
                                </li>
                                <li class="page-item" [ngClass]="{ 'disabled': currentPage === totalPages }">
                                    <a class="page-link" (click)="goToNextPage()">Siguiente</a>
                                </li>
                            </ul>
                        </nav>
                    </div>
                    <div class="dataTable-bottom">
                        <div class="dataTable-info">Mostrando {{ page + 1 }} de {{ totalPages }} páginas</div>
                        <nav class="dataTable-pagination">
                            <ul class="dataTable-pagination-list"></ul>
                        </nav>
                    </div>
                  </div>
               </div>
            </div>
         </div>
         <div class="col-lg-4">
            <div class="card">
               <div class="card-header">Ver trabajo</div>
               <div class="card-body">
                  <h5 class="card-title" id="jobTitle">* {{job.jobTitle}} *</h5>
                  Descripción: {{job.jobDescription}}
                  <br><br />
                  <div *ngFor="let subJob of job.subJobs" class="subjob-container">
                     <div class="subjob-title"> - {{subJob.subJobTitle}}</div>
                     <div class="subjob-amount">
                        <span class="dollar-sign">$</span>
                        <span class="amount-value">{{subJob.subJobAmount}}</span>
                     </div>
                  </div>
               </div>
               <div class="card-footer">
                  <div class="footer-content">
                     Total:
                     <span class="footer-amount">
                        <h4>$ {{job.totalAmount}}</h4>
                     </span>
                  </div>
               </div>
            </div>
         </div>
      </div>
   </section>
</main>